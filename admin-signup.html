<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Signup with Email OTP</title>
<style>
  body{font-family:system-ui;display:grid;place-items:center;height:100vh;background:#f5f7fb;}
  .card{background:#fff;padding:20px;border-radius:12px;box-shadow:0 5px 15px rgba(0,0,0,.1);width:360px;}
  h2{text-align:center;}
  input,button{width:100%;padding:10px;margin-top:10px;border-radius:8px;border:1px solid #ddd;}
  button{background:#2563eb;color:#fff;border:0;cursor:pointer;font-weight:500;}
  button:hover{background:#1e4ed8;}
  .link{text-align:center;margin-top:10px;}
  .link a{color:#2563eb;text-decoration:none;}
  .link a:hover{text-decoration:underline;}
  .otp-section{display:none; margin-top:15px;}
  .success{color:green;text-align:center;margin-top:10px;}
  .error{color:red;text-align:center;margin-top:10px;}
</style>
</head>
<body>
<div class="card">
  <h2>Create Admin Account</h2>
  <input id="name" placeholder="Full Name">
  <input id="username" placeholder="Username">
  <input id="email" type="email" placeholder="Email">
  <input id="phone" type="tel" placeholder="Phone Number">
  <input id="password" type="password" placeholder="Password">
  <input id="confirmPass" type="password" placeholder="Confirm Password">
  <button id="sendOtpBtn">Send OTP</button>

  <div class="otp-section" id="otpSection">
    <input id="otp" placeholder="Enter OTP">
    <button id="verifyOtpBtn">Verify OTP</button>
  </div>

  <div class="success" id="success"></div>
  <div class="error" id="error"></div>

  <div class="link">
    <p>Already have an account? <a href="admin.html">Login</a></p>
  </div>
</div>

<script>
  let generatedOtp = "";

  document.getElementById("sendOtpBtn").addEventListener("click", () => {
    const name = document.getElementById("name").value.trim();
    const username = document.getElementById("username").value.trim();
    const email = document.getElementById("email").value.trim();
    const phone = document.getElementById("phone").value.trim();
    const pass = document.getElementById("password").value;
    const confirm = document.getElementById("confirmPass").value;
    document.getElementById("error").textContent = "";
    document.getElementById("success").textContent = "";

    if(!name || !username || !email || !phone || !pass || !confirm){
      document.getElementById("error").textContent = "Please fill all fields.";
      return;
    }
    if(pass !== confirm){
      document.getElementById("error").textContent = "Passwords do not match.";
      return;
    }

    // Generate dummy OTP (for demo)
    generatedOtp = Math.floor(100000 + Math.random() * 900000).toString();

    // In real case: send OTP to email using backend (Node.js/PHP/Python)
    // For demo: show OTP in alert
    alert("OTP sent to " + email + " (Demo OTP: " + generatedOtp + ")");

    document.getElementById("otpSection").style.display = "block";
  });

  document.getElementById("verifyOtpBtn").addEventListener("click", () => {
    const otp = document.getElementById("otp").value.trim();
    if(otp === generatedOtp){
      document.getElementById("success").textContent = "Signup successful!";
      document.getElementById("error").textContent = "";

      // Save account in localStorage (demo only)
      const userData = {
        name: document.getElementById("name").value,
        adminUser: document.getElementById("adminUser").value,
        email: document.getElementById("email").value,
        phone: document.getElementById("phone").value,
        adminPass: document.getElementById("adminPass").value
      };
      localStorage.setItem("adminAccount", JSON.stringify(adminAccounts));

      // Redirect to login after 2 seconds
      setTimeout(() => { window.location.href = "admin.html"; }, 2000);
    } else {
      document.getElementById("error").textContent = "Invalid OTP.";
      document.getElementById("success").textContent = "";
    }
  });
</script>
</body>
</html>
